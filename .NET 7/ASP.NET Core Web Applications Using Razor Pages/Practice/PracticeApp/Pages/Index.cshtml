@page "{id?}"
@model IndexModel

@{ViewData["Title"] = "Main";}

<div class=" container">
	<div class="row">
		<div class="text-center">
			<h1 class="display-4">@Model.PageTitle</h1>
		</div>
	</div>
	<div class="row">
		<form class="mt-0" method="get">
			<div class="row">
				<div class="col-3 offset-2" id="DepartmentResult"></div>
			    <div class="col-4" id="EmployeeResult"></div>
			</div>
		</form>
		<form class="mt=0" method="post">
			<div class="row">
				<label class="col-2 offset-3 col-form-label">Employee Name:</label>
				<div class="col-2">
				    <input class="form-control" title="Employee name" asp-for="Name">
				</div>
			</div>
			<br />
			<div class="row">
				<label class="col-2 offset-3 col-form-label">Department Name:</label>
				<div class="col-2">
					<input class="form-control" title="Department name" asp-for="Department">
				</div>
			</div>
		</form>
	</div>
</div>

@section Scripts {
<script>
	$(document).ready(function()
	{
		$.ajax(
		{
			url: "/Index?handler=DisplayDepartment",
			type: "GET",
			data: { value: @Model.Id },
			headers: { RequestVerificationToken: $('input:hidden[name="__RequestVerificationToken"]').val() },
			success: function(data) { $("#DepartmentResult").html(data); }
		});
	});
</script>
}